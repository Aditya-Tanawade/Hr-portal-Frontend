<div id="all-candidates" class="content-section">
    <div class="page-header">
        <div class="header-content">
            <div>
                <h1 class="page-title">All Candidates</h1>
                <p class="page-subtitle">Manage all candidates including previous applicants</p>
            </div>
        </div>
    </div>

    <section class="filters-section">
        <div class="filters-header">
            <h2 class="filters-title">Refine Your Search</h2>
            <button class="clear-filters-btn" (click)="clearFilters()">
                <i class="fas fa-times"></i> Clear All
            </button>
        </div>

        <div class="filters-row">
            <div class="filter-group">
                <label class="filter-label">Experience Level</label>
                <select class="filter-select" [(ngModel)]="selectedExperience">
                    <option value="">All Levels</option>
                    <option value="entry">Entry Level (0-2 years)</option>
                    <option value="mid">Mid Level (2-5 years)</option>
                    <option value="senior">Senior Level (5-8 years)</option>
                    <option value="lead">Lead/Manager (8+ years)</option>
                </select>
            </div>

            <div class="filter-group">
                <label class="filter-label">Salary Range (LPA)</label>
                <div class="salary-range-container">
                    <input type="number" class="salary-input" placeholder="Min" [(ngModel)]="minSalary" />
                    <span>to</span>
                    <input type="number" class="salary-input" placeholder="Max" [(ngModel)]="maxSalary" />
                </div>
            </div>

            <div class="filter-group">
                <label class="filter-label">Notice Period (Days)</label>
                <select class="filter-select" [(ngModel)]="selectedNoticePeriod">
                    <option [ngValue]="null">Any</option>
                    <option [ngValue]="0">Immediate (0 days)</option>
                    <option [ngValue]="15">15 days or less</option>
                    <option [ngValue]="30">30 days or less</option>
                    <option [ngValue]="60">60 days or less</option>
                    <option [ngValue]="90">90 days or less</option>
                </select>
            </div>

            <div class="filter-group">
                <label class="filter-label">Skills (comma-separated)</label>
                <input 
                    type="text" 
                    class="filter-select" 
                    placeholder="e.g., Java, React, SQL" 
                    [(ngModel)]="selectedSkills"
                />
            </div>
        </div>

        <div class="form-group">
            <button class="btn btn-primary" (click)="applyFilters()">
                <i class="fas fa-search"></i> Apply Filters
            </button>
        </div>
    </section>

    <!-- Candidates List (Dynamic Cards) -->
    <div class="cards-grid" *ngIf="displayedCandidates.length > 0">
        <div class="candidate-card" *ngFor="let candidate of displayedCandidates">
            <div class="candidate-profile">
                <div class="candidate-avatar">{{ getInitials(candidate.fullName) }}</div>
                <div class="candidate-info">
                    <h4>{{ candidate.fullName }}</h4>
                    <p>{{ candidate.profileRole || 'Not Specified' }} • {{ candidate.totalExperience }} years experience</p>
                    <div class="skills-tags">
                        <span class="skill-tag" *ngFor="let skill of getSkillsArray(candidate.skills)">
                            {{ skill }}
                        </span>
                    </div>
                </div>
            </div>
            <div class="card-content">
                <div class="info-row">
                    <span class="info-label">Applied For:</span>
                    <span class="info-value">{{ candidate.title || 'N/A' }}</span>
                </div>
                <div class="info-row">
                    <span class="info-label">Applied Date:</span>
                    <span class="info-value">{{ formatDate(candidate.appliedAt) }}</span>
                </div>
                <div class="info-row">
                    <span class="info-label">Email:</span>
                    <span class="info-value">{{ candidate.email }}</span>
                </div>
                <div class="info-row">
                    <span class="info-label">Expected Salary:</span>
                    <span class="info-value">₹{{ candidate.expectedCtc }} LPA</span>
                </div>
                <div class="info-row">
                    <span class="info-label">Notice Period:</span>
                    <span class="info-value">{{ candidate.noticePeriod }} days</span>
                </div>
            </div>
            <div class="card-actions">
                <button class="btn btn-success btn-sm" (click)="changeStatusOfCandidateToShortListed(candidate.applicationId)">
                    <i class="fas fa-check"></i> Shortlist
                </button>
                <button class="btn btn-danger btn-sm" (click)="changeStatusOfCandidateToNotShortListed(candidate.applicationId)">
                    <i class="fas fa-times"></i> Reject
                </button>
            </div>
        </div>
    </div>

    <div *ngIf="displayedCandidates.length === 0" class="no-results">
        <p>No candidates found matching your criteria.</p>
    </div>


    
</div>