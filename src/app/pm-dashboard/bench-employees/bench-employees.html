<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Bench Employees</title>

    <!-- FontAwesome for icons -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
  </head>
  <body>
    <h1>Bench Employees</h1>
    <p class="subtitle">Filter employees by skills, experience, and role</p>

    <!-- Filter Bar -->
    <div class="filter-bar">
      <input type="text" id="skillsFilter" placeholder="Filter by skills (comma separated)" [(ngModel)]="skillsInput" />
      <input
        type="number"
        id="minExperience"
        placeholder="Min experience (years)"
        min="0"
        step="0.1"
        [(ngModel)]="minExperienceInput"
      />
      <select id="roleFilter" [(ngModel)]="roleFilterInput">
        <option value="">All Roles</option>
        <option value="Frontend Developer">Frontend Developer</option>
        <option value="Backend Developer">Backend Developer</option>
        <option value="Tester">Tester</option>
        <option value="Database Developer">Database Developer</option>
        <option value="SOFTWARE ENGINEER">Software Engineer</option>


      </select>
      <button (click)="applyFilters()"><i class="fas fa-filter"></i> Filter</button>
    </div>

    <!-- Employees Grid -->
    <div class="employees-grid" id="employeesGrid">
      <div
        *ngFor="let employee of filteredEmployees; trackBy: trackByEmployeeId"
        class="employee-card"
        [attr.data-skills]="employee.skills.toLowerCase()"
        [attr.data-experience]="employee.experience"
        [attr.data-role]="employee.roleKey.toLowerCase()"
        [attr.data-active]="employee.active"
      >
        <div class="employee-header">
          <div class="avatar">{{ getInitials(employee.fullName) }}</div>
          <div>
            <div class="employee-name">{{ employee.fullName }}</div>
            <div class="employee-email">{{ employee.email }}</div>
          </div>
        </div>
        <div class="employee-info"><span class="info-label">Employee ID:</span> {{ employee.employeeId }}</div>
        <div class="employee-info"><span class="info-label">Gender:</span> {{ employee.gender }}</div>
        <div class="employee-info"><span class="info-label">Experience:</span> {{ employee.experience }} years</div>
        <div class="employee-info"><span class="info-label">Role:</span> {{ employee.profileRole }}</div>
        <div class="employee-info"><span class="info-label">CTC:</span> ${{ employee.ctc | number:'1.0-0' }}</div>
        <div class="employee-info">
          <span class="info-label">Active Status:</span>
          <span class="status-badge" [ngClass]="employee.active ? 'active-badge' : 'inactive-badge'">
            {{ employee.active ? 'Active' : 'Inactive' }}
          </span>
        </div>
        <div class="employee-info"><span class="info-label">Skills:</span></div>
        <div class="skills-list">
          <span *ngFor="let skill of employee.skills.split(',')">{{ skill.trim() }}</span>
        </div>
        <div style="margin-top: auto; text-align: right">
          <div class="assign-button-container">
            <button class="btn-assign" (click)="assignProjectToBenchEmployee(employee.employeeId)">
              <i class="fas fa-tasks"></i> Assign Project
            </button>
          </div>
        </div>
      </div>
    </div>

    <div class="no-results" *ngIf="filteredEmployees.length === 0" id="noResults">
      No employees match your filter criteria.
    </div>
  </body>
</html>